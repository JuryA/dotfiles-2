# thanks:
# http://pbrisbin.com/posts/mutt_gmail_offlineimap
# https://wiki.archlinux.org/index.php/OfflineIMAP
# vim: ft=cfg tw=0

[general]
accounts = WM, iCloud
ui = Basic
maxsyncaccounts = 1

[mbnames]
enabled = yes
filename = ~/.mailboxes.muttrc
header = "mailboxes "
peritem = "+%(accountname)s/%(foldername)s"
sep = " "
footer = "\n"

[Account WM]
postsynchook = notmuch new
localrepository = WM-Local
remoterepository = WM-Remote

[Repository WM-Local]
type = Maildir
localfolders = ~/Mail/WM

[Repository WM-Remote]
type = IMAP
ssl = yes
remotehost = mail.wm.ru
remoteuser = greg@wm.ru
remoteport = 993
realdelete = no
nametrans = lambda f: re.sub('^INBOX$', 'INBOX',
                      re.sub('^INBOX\.', '', f))

[Account iCloud]
postsynchook = notmuch new
localrepository = iCloud-Local
remoterepository = iCloud-Remote

[Repository iCloud-Local]
type = Maildir
localfolders = ~/Mail/iCloud

[Repository iCloud-Remote]
type = IMAP
ssl = yes
remotehost = imap.mail.me.com
remoteuser = floatboth@me.com
remoteport = 993
realdelete = no
nametrans = lambda f: re.sub('^INBOX$', 'INBOX',
                      re.sub('^INBOX.', '', f))
