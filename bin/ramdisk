#!/bin/sh

OS="$(uname -s)"

case "$OS" in
	Darwin)
		DISK=$(hdiutil attach -nomount ram://$(echo $@ "/ 512" | bc)) # 512 is the block size
		diskutil erasevolume HFS+ "ramdisk" $DISK;; # no quotes around DISK... INTENTIONALLY!
	FreeBSD)
		mount_mfs -s "$(echo $@ | bc)" md /mnt/ramdisk;;
	# Linux)
	# 	mount -t ramfs -o "size=$(echo $@ | bc)" ramfs /mnt/ramdisk;;
	*)
		echo "Unknown OS: $OS";;
esac
