# thanks:
# http://bitbucket.org/sjl/dotfiles

[ui]
username = myfreeweb <floatboth@me.com>

[extensions]
mq =
fetch =
color =
rebase =
extdiff =
progress =
graphlog =
transplant =
hgext.extdiff =

[schemes]
bb = ssh://hg@bitbucket.org/

[diff]
git = True

[extdiff]
cmd.vd = vimdiff
opts.vd =

[merge-tools]
threesome.executable = vim
threesome.args = -f $base $local $other $output -c 'ThreesomeInit'
threesome.premerge = keep
threesome.priority = 1

[defaults]
rebase = --keepbranches
addremove = --similarity 95

[alias] # object -> verb -> option
# common verbs: [c]reate, [l]ist, [d]iff, [r]eset/[r]emove
# [b]ranch
bc  = branch
bl  = branches
bm  = merge
bmt = merge -t threesome
br  = !export OLDBR=`hg branch` && hg update $1 && hg commit --close-branch -m 'Close $1' && hg update $OLDBR
bs  = update # [s]witch
# [c]ommit
cc  = commit
cd  = diff
cl  = glog --style compact
cr  = rollback
# [f]ile
fa  = add
faa = add
ff  = forget
fi  = ![ -n "$@" ] && echo '$@' >> `$HG root`/.hgignore && $HG commit `$HG root`/.hgignore -Am 'Add "$@" to .hgignore.'
fm  = mv
fr  = rm
# [w]orking copy
wd  = diff
wr  = update --clean
ws  = status
